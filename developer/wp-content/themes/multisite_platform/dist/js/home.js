!function(){var t={147:function(){const t=async t=>{const e=new FormData(t),n=new URLSearchParams;for(const[t,r]of e.entries())r&&n.append(t,r);(t=>{const e=`${window.location.pathname}?${t.toString()}`;window.history.pushState({},"",e)})(n);try{const t=await(async t=>{let e=t;e.append("action","filter_listings"),e.append("nonce",ajaxData.nonce);const n=await fetch(ajaxData.ajaxUrl,{method:"POST",body:e});if(!n.ok)throw new Error("Failed to fetch query");return await n.json().then(t=>t.data)})(n);(t=>{const{count:e,html:n}=t,r=document.querySelector(".listings-grid");(document.querySelector(".listings-count")??0).innerHTML=`<p class="text-gray-600">\n  Found <strong>${e}</strong> listings</p>`,r&&(r.innerHTML=n)})(t)}catch(t){console.error("Filter error:",t)}};document.addEventListener("DOMContentLoaded",()=>{(()=>{const e=document.querySelector(".filter-listings form");e&&e.addEventListener("submit",async n=>{n.preventDefault(),await t(e)})})(),(()=>{const e=document.querySelector(".sort-listings #sort");e&&e.addEventListener("change",async n=>{n.preventDefault();const r=document.querySelector(".filter-listings form");r.querySelector("input[name='sort']").value=e.value,await t(r)})})()})}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={exports:{}};return t[r](a,a.exports,n),a.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";n(147)}()}();